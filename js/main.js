const data = [
	"李昂",
	"姚殿举",
	"张帅青",
	"曲新梦",
	"王耀震",
	"张宇",
	"刘小涵",
	"李琦",
	"霍龙坤",
	"李克兢",
	"张红雯",
	"于鑫鑫",
	"陈硕",
	"王玉佳",
	"李兴泉",
	"吴敬帅",
	"王天宇",
	"王琛",
	"潘若怡",
	"时永欣",
	"郭士岩",
	"周子杰",
	"宋英慧",
	"牟硕",
	"杨洋",
	"孙梦盈",
	"靳宗洋",
	"张青华",
	"门志恒",
	"张琳",
	"韩华伟",
	"孟晓涵",
	"姜宏广",
	"王雨涵",
	"周特",
	"郭梓萌",
	"张萌",
	"吴爱新",
	"李迎春",
	"王燕",
	"姜齐",
	"杨世豪",
	"迟骋",
	"杨之星",
	"马筱熠",
	"李嘉昌",
	"谷泽昆",
	"姚东汛",
	"梁云",
	"王道川",
	"姜菁华",
	"霍晓文",
	"潘晓航",
	"曲换龙",
	"曲自帅",
	"王光策",
	"赵钰晗",
	"张嘉宁",
	"褚平赛",
	"姜义昆",
	"高恩宇",
	"于秋月",
	"张昊",
	"吴坤",
	"王淑雯",
	"赵孟玮",
	"李泽民",
	"程心怡",
	"张舒涵",
	"宋明正",
	"刘业潮",
	"李鑫",
	"张冰",
	"张晓雯",
	"宫文龙",
	"郭珺",
	"王亚玲",
	"倪龙雪",
	"祖凌云",
	"张静",
	"李颖",
	"张晓雨",
	"王恩慧",
	"范议心",
	"韩晋原"
];
const group_1 = [
	"李昂",
<<<<<<< HEAD
=======
	"姚殿举",
>>>>>>> a7ef226c66bf45620b346713b2dd46eb2a2e0859
	"曲新梦",
	"张宇",
	"刘小涵",
	"李琦",
	"李克兢",
	"张红雯",
	"陈硕",
	"王玉佳",
	"李兴泉",
	"吴敬帅",
	"王天宇",
	"王琛",
	"潘若怡",
	"时永欣",
	"郭士岩",
	"周子杰",
	"宋英慧",
	"牟硕",
	"杨洋",
	"孙梦盈",
	"靳宗洋",
	"张青华",
	"门志恒",
<<<<<<< HEAD
=======
	"韩华伟",
	"孟晓涵",
>>>>>>> a7ef226c66bf45620b346713b2dd46eb2a2e0859
	"姜宏广",
	"王雨涵",
	"周特",
	"郭梓萌",
	"吴爱新",
	"李迎春"
];
const group_2 = [
	"姜齐",
	"杨世豪",
	"杨之星",
	"马筱熠",
	"李嘉昌",
	"谷泽昆",
	"姚东汛",
	"梁云",
	"王道川",
	"姜菁华",
	"霍晓文",
	"潘晓航",
	"曲换龙",
	"曲自帅",
	"王光策",
	"赵钰晗",
	"张嘉宁",
	"褚平赛",
	"姜义昆",
	"高恩宇",
	"于秋月",
	"张昊",
	"吴坤",
	"王淑雯",
	"赵孟玮",
	"李泽民",
	"程心怡",
	"张舒涵",
	"宋明正",
	"刘业潮",
	"李鑫",
	"张冰",
	"张晓雯",
	"宫文龙",
	"郭珺",
	"王亚玲",
	"倪龙雪",
	"祖凌云",
	"张静",
	"李颖",
	"张晓雨",
	"王恩慧",
	"范议心",
	"韩晋原"
];
const group_3 = [
	"李昂",
	"姚殿举",
	"张帅青",
	"张宇",
	"刘小涵",
	"霍龙坤",
<<<<<<< HEAD
=======
	"李克兢",
	"于鑫鑫",
>>>>>>> a7ef226c66bf45620b346713b2dd46eb2a2e0859
	"陈硕",
	"吴敬帅",
	"王天宇",
	"潘若怡",
	"时永欣",
	"郭士岩",
	"周子杰",
	"宋英慧",
	"牟硕",
	"杨洋",
	"孙梦盈",
	"靳宗洋",
	"张青华",
	"门志恒",
	"张琳",
	"韩华伟",
	"孟晓涵",
	"姜宏广",
	"王雨涵",
	"周特",
	"郭梓萌",
	"张萌",
	"吴爱新",
	"李迎春"
];
const group_4 = [
	"姜齐",
	"杨世豪",
	"迟骋",
	"杨之星",
	"马筱熠",
	"李嘉昌",
	"谷泽昆",
	"姚东汛",
	"梁云",
	"王道川",
	"姜菁华",
	"霍晓文",
	"潘晓航",
	"曲换龙",
	"曲自帅",
	"王光策",
	"赵钰晗",
	"张嘉宁",
	"褚平赛",
	"姜义昆",
	"高恩宇",
	"于秋月",
	"张昊",
	"吴坤",
	"王淑雯",
	"赵孟玮",
	"李泽民",
	"程心怡",
	"张舒涵",
	"宋明正",
	"刘业潮",
	"李鑫",
	"张冰",
	"张晓雯",
	"宫文龙",
	"郭珺",
	"王亚玲",
	"倪龙雪",
	"祖凌云",
	"张静",
	"李颖",
	"王恩慧",
	"范议心",
	"韩晋原"
];

const groups = [data, group_1, group_2, group_3, group_4];

// 永远不会被抽到名字
const white_list = [
<<<<<<< HEAD
  "李昂",
  "王雨涵",
  "张晓雯"
=======
  	"姚殿举",
	"张帅青",
	"曲新梦",
	"王耀震",
	"张宇",
	"刘小涵",
	"李琦",
	"霍龙坤",
	"李克兢",
	"张红雯",
	"于鑫鑫",
	"陈硕",
	"王玉佳",
	"李兴泉",
	"吴敬帅",
	"王天宇",
	"王琛",
	"潘若怡",
	"时永欣",
	"郭士岩",
	"周子杰",
	"宋英慧",
	"牟硕",
	"杨洋",
	"孙梦盈",
	"靳宗洋",
	"张青华",
	"门志恒",
	"张琳",
	"韩华伟",
	"孟晓涵",
	"姜宏广",
	"周特",
	"郭梓萌",
	"张萌",
	"吴爱新",
	"李迎春",
	"王燕"
>>>>>>> a7ef226c66bf45620b346713b2dd46eb2a2e0859
];

let link_data = data;

// random a int from [minNum, maxNum]
function randomNum(minNum, maxNum) {
  switch (arguments.length) {
    case 1:
      return parseInt(Math.random() * minNum + 1, 10);
      break;
    case 2:
      return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);
      break;
    default:
      return 0;
      break;
  }
}

// 全局变量 slide表示已经有多少个卡片
var slidecount = 0;
function restart() {
  console.log("restart");
  $("div.roll-card.clickable")
    .nextAll()
    .remove();
  showCard("div.card.clickable", 300);
}

function randStart() {
  (function () {
    tail = $("div.roll-card.clickable");
    slidecount = 0;
    slide();
    $("div.roll-card.clickable");
  })();
}

function getNextCardText(from) {
  let len = randomNum(0, from.length - 1);
  let name = from[len];
  return name;
}

// 将卡片向上移动
function showCard(selector, duration, complete) {
  $(selector).animate(
    {
      top: "-1px"
    },
    duration,
    "swing",
    complete
  );
}

function finish_roll() {
  // 最后一个卡片时的动画
}

function contains(arr, obj) {
  var i = arr.length;
  while (i--) {
    if (arr[i] === obj) {
      return true;
    }
  }
  return false;
}

function check_name() {
  // Check
  let title = $(`.roll-card-id-${slidecount - 1}`).text();
  while (contains(white_list, title)) {
    title = getNextCardText(link_data);
  }
  card = $(
    '<div class="roll-card">' +
    '<div class="title">' +
    title +
    "</div>" +
    "</div>"
  );
  card.addClass(`roll-card-id-${slidecount}`);
  tail.after(card);
  tail = card;
  slidecount++; // imp
  showCard(card, 1200, finish_roll);
}

function slide() {
  if (slidecount > 25) {
    check_name();
    return;
  }
  // 滑动时间

  const duration =
    slidecount > 23
      ? 1200
      : slidecount > 20
        ? 500
        : slidecount > 15
          ? 300
          : slidecount > 10
            ? 150
            : 100;
  let cardName = getNextCardText(link_data);
  card = $(
    '<div class="roll-card">' +
    '<div class="title">' +
    cardName +
    "</div>" +
    "</div>"
  );
  card.addClass(`roll-card-id-${slidecount}`);
  tail.after(card);
  tail = card;
  slidecount++;
  showCard(card, duration, slide);
<<<<<<< HEAD
}
=======
}

>>>>>>> a7ef226c66bf45620b346713b2dd46eb2a2e0859
